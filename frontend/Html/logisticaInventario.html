<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inventario - Coffee D'Ronel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600&family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../CSS/logisticainventario.css">
</head>
<body>

  <div class="sidebar">
    <h2><i class="bi bi-cup-hot"></i> CaféAdmin</h2>
    <ul class="nav flex-column px-2">
      <li><a class="nav-link active" href="logistica.html"><i class="bi bi-person-badge"></i> Logística</a></li>
      <li><a class="nav-link" href="logisticaDashboard.html"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
      <li><a class="nav-link" href="logisticaProductos.html"><i class="bi bi-box"></i> Productos</a></li>
      <li><a class="nav-link" href="logisticaInventario.html"><i class="bi bi-archive"></i> Inventario</a></li>
      <li><a class="nav-link" href="logisticaPedidos.html"><i class="bi bi-bag"></i> Pedidos</a></li>
      <li><a class="nav-link" href="logisticaReportes.html"><i class="bi bi-clipboard-data"></i> Reportes</a></li>
    </ul>
  </div>

  <div class="main-content container py-5">

    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h1 class="fw-bold">Inventario</h1>
        <p class="text-muted">Control de stock y productos</p>
      </div>
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalAgregar">
        <i class="bi bi-plus-lg"></i> Agregar Producto
      </button>
    </div>

    <div class="row mb-4">
      <div class="col-md-4">
        <div class="card text-center">
          <div class="card-body">
            <h6 class="text-muted">Total Productos</h6>
            <h3 id="totalProductos">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-center border-warning bg-warning-subtle">
          <div class="card-body">
            <h6 class="text-warning"><i class="bi bi-exclamation-triangle me-1"></i> Stock Bajo</h6>
            <h3 id="stockBajo">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-center border-danger bg-danger-subtle">
          <div class="card-body">
            <h6 class="text-danger"><i class="bi bi-exclamation-triangle me-1"></i> Stock Crítico</h6>
            <h3 id="stockCritico">0</h3>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">Lista de Productos</h5>
        <div class="position-relative">
          <i class="bi bi-search position-absolute top-50 start-0 translate-middle-y ms-2 text-muted"></i>
          <input type="text" id="searchInput" class="form-control ps-5" placeholder="Buscar productos...">
        </div>
      </div>
      <div class="card-body">
        <table class="table align-middle">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Cantidad</th>
              <th>Unidad</th>
              <th>Stock Mínimo</th>
              <th>Precio Unitario</th>
              <th>Proveedor</th>
              <th>Última Actualización</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="inventoryTable"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Modal Agregar -->
  <div class="modal fade" id="modalAgregar" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="formAgregar">
          <div class="modal-header">
            <h5 class="modal-title">Agregar Producto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3"><label class="form-label">Nombre</label><input type="text" name="nombreInsumo" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Cantidad</label><input type="number" name="cantidad" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Unidad</label><input type="text" name="unidad" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Stock mínimo</label><input type="number" name="stockMinimo" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Precio unitario</label><input type="number" step="0.01" name="precioUnitario" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Proveedor</label><input type="text" name="proveedor" class="form-control" required></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary">Guardar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal Editar -->
  <div class="modal fade" id="modalEditar" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="formEditar">
          <div class="modal-header">
            <h5 class="modal-title">Editar Producto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <input type="hidden" name="id" id="editId">

            <div class="mb-3"><label class="form-label">Nombre</label><input type="text" name="nombreInsumo" id="editNombre" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Cantidad</label><input type="number" name="cantidad" id="editCantidad" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Unidad</label><input type="text" name="unidad" id="editUnidad" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Stock mínimo</label><input type="number" name="stockMinimo" id="editMinimo" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Precio unitario</label><input type="number" step="0.01" name="precioUnitario" id="editPrecio" class="form-control" required></div>
            <div class="mb-3"><label class="form-label">Proveedor</label><input type="text" name="proveedor" id="editProveedor" class="form-control" required></div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../JS/logisticainventario.js"></script>
</body>
</html>
