<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CaféAdmin - Reportes</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../CSS/reportes.css">
</head>
<body>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <h2><i class="bi bi-cup-hot"></i> CaféAdmin</h2>
    <ul class="nav flex-column px-2">
      <li><a class="nav-link" href="dashboard.html"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
      <li><a class="nav-link" href="productos.html"><i class="bi bi-box-seam"></i> Productos</a></li>
      <li><a class="nav-link" href="inventario.html"><i class="bi bi-archive"></i> Inventario</a></li>
      <li><a class="nav-link" href="proveedores.html"><i class="bi bi-people"></i> Proveedores</a></li>
      <li><a class="nav-link" href="pedidos.html"><i class="bi bi-bag"></i> Pedidos</a></li>
      <li><a class="nav-link active" href="reportes.html"><i class="bi bi-file-earmark-bar-graph"></i> Reportes</a></li>
      <li><a class="nav-link" href="alertas.html"><i class="bi bi-bell"></i> Alertas</a></li>
    </ul>
  </div>

  <!-- MAIN -->
  <div class="main-content">

    <div class="mb-4">
      <h1 class="fw-bold">Reportes</h1>
      <p class="text-muted">Análisis y estadísticas de tu negocio</p>
    </div>

    <!-- TABS -->
    <ul class="nav nav-tabs mb-3" id="reportesTabs">
      <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#ventas">Ventas</button></li>
      <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#productos">Productos</button></li>
      <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#comparativa">Comparativa</button></li>
    </ul>

    <div class="tab-content">

      <!-- TAB: VENTAS -->
      <div class="tab-pane fade show active" id="ventas">

        <!-- BOTÓN EXPORTAR -->
        <div class="d-flex justify-content-end mb-3">
          <button class="btn btn-danger" onclick="exportarPDF('ventas')">
            <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
          </button>
        </div>

        <div class="row g-4">
          <div class="col-md-6">
            <div class="card p-3">
              <h5>Evolución de Ventas</h5>
              <canvas id="ventasChart"></canvas>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card p-3">
              <h5>Distribución por Categoría</h5>
              <canvas id="categoriasChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- TAB: PRODUCTOS -->
      <div class="tab-pane fade" id="productos">

        <div class="d-flex justify-content-end mb-3">
          <button class="btn btn-danger" onclick="exportarPDF('productos')">
            <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
          </button>
        </div>

        <div class="card p-3">
          <h5>Top 5 Productos Más Vendidos</h5>
          <canvas id="topProductosChart"></canvas>
        </div>
      </div>

      <!-- TAB: COMPARATIVA -->
      <div class="tab-pane fade" id="comparativa">

        <div class="d-flex justify-content-end mb-3">
          <button class="btn btn-danger" onclick="exportarPDF('comparativa')">
            <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
          </button>
        </div>

        <div class="card p-3">
          <h5>Ventas vs Gastos</h5>
          <canvas id="comparativaChart"></canvas>
        </div>

      </div>
    </div>
  </div>

  <!-- LIBRERÍAS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- LIBRERÍAS PARA EXPORTAR PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- JS -->
  <script src="../JS/reportes.js"></script>

</body>
</html>
